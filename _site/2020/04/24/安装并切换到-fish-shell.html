<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>安装并切换到 fish shell | 牛さんの部落格</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="安装并切换到 fish shell" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="安装并切换到 fish shell 安装 $ brew install fish 检查安装 $ fish -v fish, version 3.1.0 设置 fish shell 为默认 shell 首先添加 fish 到 /etc/shells： $ sudo echo /usr/local/bin/fish &gt;&gt; /etc/shells 如果报如下错误： -bash: /etc/shells: Permission denied 尝试以下命令： $ echo &quot;/usr/local/bin/fish&quot; | sudo tee -a /etc/shells 检查添加结果： $ cat /etc/shells # List of acceptable shells for chpass(1). # Ftpd will not allow users to connect who are not using # one of these shells. /bin/bash /bin/csh /bin/dash /bin/ksh /bin/sh /bin/tcsh /bin/zsh /usr/local/bin/fish 切换默认 shell 到 fish： $ chsh -s /usr/local/bin/fish 安装 omf $ curl -L https://get.oh-my.fish | fish 检查安装： $ omf -v Oh My Fish version 7 然后就可以通过 omf 安装相应的主题，插件了。 推荐的插件和主题 autojump 先正常安装 autojump brew install autojump 安装 fish autojump 插件 omf install autojump 配置 fish，添加 [ -f /usr/local/share/autojump/autojump.fish ]; and source /usr/local/share/autojump/autojump.fis 到 ~/.config/fish/config.fish nvm 正常安装 nvm curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.3/install.sh | bash 安装 nvm 插件 omf install nvm 添加 set -gx NVM_DIR (brew --prefix nvm) 到 fish 配置文件 fish 的配置 通过 ~/.config/fish/config.fish 文件进行配置，如果没有的话，手动创建一个。 也可通过 fish_config 命令打开一个本地页面进行可视化的配置。 $ fish_config 可视化配置 fish 命令行的 vi 模式 通过 fish_vi_key_bindings 可开启 vi 模式，此模式下可通过 i&lt;/kbd&gt; 和 ESC&lt;/kdb&gt; 来切换 normal 和 insert 模式。 `fish_default_key_bindings` 恢复到正常模式。 将 fish_vi_key_bindings 添加到 fish 的配置文件中可默认开启 vi 模式。 另，该模式下会影响 fish 自动实例快捷键 command + F，添加如下脚本到 fish 配置文件以修正： function fish_user_key_bindings for mode in insert default visual bind -M $mode \cf forward-char end end fish_user_key_bindings" />
<meta property="og:description" content="安装并切换到 fish shell 安装 $ brew install fish 检查安装 $ fish -v fish, version 3.1.0 设置 fish shell 为默认 shell 首先添加 fish 到 /etc/shells： $ sudo echo /usr/local/bin/fish &gt;&gt; /etc/shells 如果报如下错误： -bash: /etc/shells: Permission denied 尝试以下命令： $ echo &quot;/usr/local/bin/fish&quot; | sudo tee -a /etc/shells 检查添加结果： $ cat /etc/shells # List of acceptable shells for chpass(1). # Ftpd will not allow users to connect who are not using # one of these shells. /bin/bash /bin/csh /bin/dash /bin/ksh /bin/sh /bin/tcsh /bin/zsh /usr/local/bin/fish 切换默认 shell 到 fish： $ chsh -s /usr/local/bin/fish 安装 omf $ curl -L https://get.oh-my.fish | fish 检查安装： $ omf -v Oh My Fish version 7 然后就可以通过 omf 安装相应的主题，插件了。 推荐的插件和主题 autojump 先正常安装 autojump brew install autojump 安装 fish autojump 插件 omf install autojump 配置 fish，添加 [ -f /usr/local/share/autojump/autojump.fish ]; and source /usr/local/share/autojump/autojump.fis 到 ~/.config/fish/config.fish nvm 正常安装 nvm curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.3/install.sh | bash 安装 nvm 插件 omf install nvm 添加 set -gx NVM_DIR (brew --prefix nvm) 到 fish 配置文件 fish 的配置 通过 ~/.config/fish/config.fish 文件进行配置，如果没有的话，手动创建一个。 也可通过 fish_config 命令打开一个本地页面进行可视化的配置。 $ fish_config 可视化配置 fish 命令行的 vi 模式 通过 fish_vi_key_bindings 可开启 vi 模式，此模式下可通过 i&lt;/kbd&gt; 和 ESC&lt;/kdb&gt; 来切换 normal 和 insert 模式。 `fish_default_key_bindings` 恢复到正常模式。 将 fish_vi_key_bindings 添加到 fish 的配置文件中可默认开启 vi 模式。 另，该模式下会影响 fish 自动实例快捷键 command + F，添加如下脚本到 fish 配置文件以修正： function fish_user_key_bindings for mode in insert default visual bind -M $mode \cf forward-char end end fish_user_key_bindings" />
<link rel="canonical" href="http://localhost:4000/2020/04/24/%E5%AE%89%E8%A3%85%E5%B9%B6%E5%88%87%E6%8D%A2%E5%88%B0-fish-shell.html" />
<meta property="og:url" content="http://localhost:4000/2020/04/24/%E5%AE%89%E8%A3%85%E5%B9%B6%E5%88%87%E6%8D%A2%E5%88%B0-fish-shell.html" />
<meta property="og:site_name" content="牛さんの部落格" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-04-24T20:04:00+08:00" />
<script type="application/ld+json">
{"url":"http://localhost:4000/2020/04/24/%E5%AE%89%E8%A3%85%E5%B9%B6%E5%88%87%E6%8D%A2%E5%88%B0-fish-shell.html","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2020/04/24/%E5%AE%89%E8%A3%85%E5%B9%B6%E5%88%87%E6%8D%A2%E5%88%B0-fish-shell.html"},"description":"安装并切换到 fish shell 安装 $ brew install fish 检查安装 $ fish -v fish, version 3.1.0 设置 fish shell 为默认 shell 首先添加 fish 到 /etc/shells： $ sudo echo /usr/local/bin/fish &gt;&gt; /etc/shells 如果报如下错误： -bash: /etc/shells: Permission denied 尝试以下命令： $ echo &quot;/usr/local/bin/fish&quot; | sudo tee -a /etc/shells 检查添加结果： $ cat /etc/shells # List of acceptable shells for chpass(1). # Ftpd will not allow users to connect who are not using # one of these shells. /bin/bash /bin/csh /bin/dash /bin/ksh /bin/sh /bin/tcsh /bin/zsh /usr/local/bin/fish 切换默认 shell 到 fish： $ chsh -s /usr/local/bin/fish 安装 omf $ curl -L https://get.oh-my.fish | fish 检查安装： $ omf -v Oh My Fish version 7 然后就可以通过 omf 安装相应的主题，插件了。 推荐的插件和主题 autojump 先正常安装 autojump brew install autojump 安装 fish autojump 插件 omf install autojump 配置 fish，添加 [ -f /usr/local/share/autojump/autojump.fish ]; and source /usr/local/share/autojump/autojump.fis 到 ~/.config/fish/config.fish nvm 正常安装 nvm curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.3/install.sh | bash 安装 nvm 插件 omf install nvm 添加 set -gx NVM_DIR (brew --prefix nvm) 到 fish 配置文件 fish 的配置 通过 ~/.config/fish/config.fish 文件进行配置，如果没有的话，手动创建一个。 也可通过 fish_config 命令打开一个本地页面进行可视化的配置。 $ fish_config 可视化配置 fish 命令行的 vi 模式 通过 fish_vi_key_bindings 可开启 vi 模式，此模式下可通过 i&lt;/kbd&gt; 和 ESC&lt;/kdb&gt; 来切换 normal 和 insert 模式。 `fish_default_key_bindings` 恢复到正常模式。 将 fish_vi_key_bindings 添加到 fish 的配置文件中可默认开启 vi 模式。 另，该模式下会影响 fish 自动实例快捷键 command + F，添加如下脚本到 fish 配置文件以修正： function fish_user_key_bindings for mode in insert default visual bind -M $mode \\cf forward-char end end fish_user_key_bindings","@type":"BlogPosting","headline":"安装并切换到 fish shell","dateModified":"2020-04-24T20:04:00+08:00","datePublished":"2020-04-24T20:04:00+08:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="牛さんの部落格" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">牛さんの部落格</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">安装并切换到 fish shell</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2020-04-24T20:04:00+08:00" itemprop="datePublished">Apr 24, 2020
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h1 id="安装并切换到-fish-shell">安装并切换到 fish shell</h1>

<h2 id="安装">安装</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>brew <span class="nb">install </span>fish
</code></pre></div></div>

<h2 id="检查安装">检查安装</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>fish <span class="nt">-v</span>
fish, version 3.1.0
</code></pre></div></div>

<h2 id="设置-fish-shell-为默认-shell">设置 fish shell 为默认 shell</h2>

<p>首先添加 fish 到 <code class="language-plaintext highlighter-rouge">/etc/shells</code>：</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo echo</span> /usr/local/bin/fish <span class="o">&gt;&gt;</span> /etc/shells
</code></pre></div></div>

<p>如果报如下错误：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>-bash: /etc/shells: Permission denied
</code></pre></div></div>

<p>尝试以下命令：</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">echo</span> <span class="s2">"/usr/local/bin/fish"</span> | <span class="nb">sudo tee</span> <span class="nt">-a</span> /etc/shells
</code></pre></div></div>

<p>检查添加结果：</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cat</span> /etc/shells
<span class="c"># List of acceptable shells for chpass(1).</span>
<span class="c"># Ftpd will not allow users to connect who are not using</span>
<span class="c"># one of these shells.</span>

/bin/bash
/bin/csh
/bin/dash
/bin/ksh
/bin/sh
/bin/tcsh
/bin/zsh
/usr/local/bin/fish
</code></pre></div></div>

<p>切换默认 shell 到 fish：</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>chsh <span class="nt">-s</span> /usr/local/bin/fish
</code></pre></div></div>

<h2 id="安装-omf">安装 omf</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl <span class="nt">-L</span> https://get.oh-my.fish | fish
</code></pre></div></div>

<p>检查安装：</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>omf <span class="nt">-v</span>
Oh My Fish version 7
</code></pre></div></div>

<p>然后就可以通过 omf 安装相应的主题，插件了。</p>

<h3 id="推荐的插件和主题">推荐的插件和主题</h3>

<ul>
  <li><a href="https://github.com/wting/autojump">autojump</a>
    <ul>
      <li>先正常安装 autojump <code class="language-plaintext highlighter-rouge">brew install autojump</code></li>
      <li>安装 fish autojump 插件 <code class="language-plaintext highlighter-rouge">omf install autojump</code></li>
      <li>配置 fish，添加 <code class="language-plaintext highlighter-rouge">[ -f /usr/local/share/autojump/autojump.fish ]; and source /usr/local/share/autojump/autojump.fis</code> 到 <code class="language-plaintext highlighter-rouge">~/.config/fish/config.fish</code></li>
    </ul>
  </li>
  <li>nvm
    <ul>
      <li>正常安装 nvm <code class="language-plaintext highlighter-rouge">curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.3/install.sh | bash</code></li>
      <li>安装 nvm 插件 <code class="language-plaintext highlighter-rouge">omf install nvm</code></li>
      <li>添加 <code class="language-plaintext highlighter-rouge">set -gx NVM_DIR (brew --prefix nvm)</code> 到 fish 配置文件</li>
    </ul>
  </li>
</ul>

<h2 id="fish-的配置">fish 的配置</h2>

<p>通过 <code class="language-plaintext highlighter-rouge">~/.config/fish/config.fish</code> 文件进行配置，如果没有的话，手动创建一个。</p>

<p>也可通过 <code class="language-plaintext highlighter-rouge">fish_config</code> 命令打开一个本地页面进行可视化的配置。</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>fish_config
</code></pre></div></div>

<p><img width="1425" alt="Screen Shot 2020-04-22 at 17 02 46" src="https://user-images.githubusercontent.com/3783096/79962855-2c95ff80-84bb-11ea-87d8-2c07fd3315c9.png" /></p>
<p align="center">可视化配置 fish</p>

<h3 id="命令行的-vi-模式">命令行的 vi 模式</h3>

<p>通过 <code class="language-plaintext highlighter-rouge">fish_vi_key_bindings</code> 可开启 vi 模式，此模式下可通过 <kdb>i&lt;/kbd&gt; 和 <kbd>ESC&lt;/kdb&gt; 来切换 normal 和 insert 模式。
`fish_default_key_bindings` 恢复到正常模式。</kbd></kdb></p>

<p>将 <code class="language-plaintext highlighter-rouge">fish_vi_key_bindings</code> 添加到 fish 的配置文件中可默认开启 vi 模式。</p>

<p>另，该模式下会影响 fish 自动实例快捷键 <kdb>command</kdb> + <kdb>F</kdb>，添加如下脚本到 fish 配置文件以修正：</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function </span>fish_user_key_bindings
    <span class="k">for </span>mode <span class="k">in </span>insert default visual
        <span class="nb">bind</span> <span class="nt">-M</span> <span class="nv">$mode</span> <span class="se">\c</span>f forward-char
    end
end

fish_user_key_bindings
</code></pre></div></div>


  </div><a class="u-url" href="/2020/04/24/%E5%AE%89%E8%A3%85%E5%B9%B6%E5%88%87%E6%8D%A2%E5%88%B0-fish-shell.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">牛さんの部落格</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">牛さんの部落格</li><li><a class="u-email" href="mailto:liuwayong@gmail.com">liuwayong@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/jekyll"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">jekyll</span></a></li><li><a href="https://www.twitter.com/jekyllrb"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">jekyllrb</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>notes about the coding life</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
