<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>killall 中的 signal | 牛さんの部落格</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="killall 中的 signal" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="killall 中的 signal Flutter 开发时，会遇到另的任务挂起导致新的 Dart 服务无法启动的问题，提示如下： Waiting for another flutter command to release the startup lock... killall 命令 此时可以通过以下命令，将所有当前运行的 Dart 服务先结束掉： $ killall -9 dart SIGNAL 参数 这里的 -9 指定的是 killall -SIGNAL 中的 SIGNAL 参数，可用的 SIGNAL 参数可通过 killall -l 列出： $ killall -l HUP INT QUIT ILL TRAP ABRT EMT FPE KILL BUS SEGV SYS PIPE ALRM TERM URG STOP TSTP CONT CHLD TTIN TTOU IO XCPU XFSZ VTALRM PROF WINCH INFO USR1 USR2 可以看到这里列出的是各种信号的名称，每个名称根据其顺序对应了一个数字，所以指定 -SIGNAL 参数时，除了使用数字，也可以直接使用这里列出的名称。 名称和数字的对应关系在这里不直观，可通过 man signal 来查看： $ man signal ... No Name Default Action Description 1 SIGHUP terminate process terminal line hangup 2 SIGINT terminate process interrupt program 3 SIGQUIT create core image quit program 4 SIGILL create core image illegal instruction 5 SIGTRAP create core image trace trap 6 SIGABRT create core image abort program (formerly SIGIOT) 7 SIGEMT create core image emulate instruction executed 8 SIGFPE create core image floating-point exception 9 SIGKILL terminate process kill program 10 SIGBUS create core image bus error 11 SIGSEGV create core image segmentation violation 12 SIGSYS create core image non-existent system call invoked 13 SIGPIPE terminate process write on a pipe with no reader 14 SIGALRM terminate process real-time timer expired 15 SIGTERM terminate process software termination signal 16 SIGURG discard signal urgent condition present on socket 17 SIGSTOP stop process stop (cannot be caught or ignored) 18 SIGTSTP stop process stop signal generated from keyboard 19 SIGCONT discard signal continue after stop 20 SIGCHLD discard signal child status has changed 21 SIGTTIN stop process background read attempted from con- trol terminal 22 SIGTTOU stop process background write attempted to con- trol terminal 23 SIGIO discard signal I/O is possible on a descriptor (see fcntl(2)) 24 SIGXCPU terminate process cpu time limit exceeded (see setrlimit(2)) 25 SIGXFSZ terminate process file size limit exceeded (see setrlimit(2)) 26 SIGVTALRM terminate process virtual time alarm (see setitimer(2)) 27 SIGPROF terminate process profiling timer alarm (see setitimer(2)) 28 SIGWINCH discard signal Window size change 29 SIGINFO discard signal status request from keyboard 30 SIGUSR1 terminate process User defined signal 1 31 SIGUSR2 terminate process User defined signal 2 ... SIGNAL 的用途 程序被终止时，是可以根据外部传来的信号判断出终止的原因，从而在业务上进行合理的善后工作。结束程序时，默认会发送 SIGTERM 信号，而 killall 时，通过手动指定相应的信号，可以让程序合理的响应。" />
<meta property="og:description" content="killall 中的 signal Flutter 开发时，会遇到另的任务挂起导致新的 Dart 服务无法启动的问题，提示如下： Waiting for another flutter command to release the startup lock... killall 命令 此时可以通过以下命令，将所有当前运行的 Dart 服务先结束掉： $ killall -9 dart SIGNAL 参数 这里的 -9 指定的是 killall -SIGNAL 中的 SIGNAL 参数，可用的 SIGNAL 参数可通过 killall -l 列出： $ killall -l HUP INT QUIT ILL TRAP ABRT EMT FPE KILL BUS SEGV SYS PIPE ALRM TERM URG STOP TSTP CONT CHLD TTIN TTOU IO XCPU XFSZ VTALRM PROF WINCH INFO USR1 USR2 可以看到这里列出的是各种信号的名称，每个名称根据其顺序对应了一个数字，所以指定 -SIGNAL 参数时，除了使用数字，也可以直接使用这里列出的名称。 名称和数字的对应关系在这里不直观，可通过 man signal 来查看： $ man signal ... No Name Default Action Description 1 SIGHUP terminate process terminal line hangup 2 SIGINT terminate process interrupt program 3 SIGQUIT create core image quit program 4 SIGILL create core image illegal instruction 5 SIGTRAP create core image trace trap 6 SIGABRT create core image abort program (formerly SIGIOT) 7 SIGEMT create core image emulate instruction executed 8 SIGFPE create core image floating-point exception 9 SIGKILL terminate process kill program 10 SIGBUS create core image bus error 11 SIGSEGV create core image segmentation violation 12 SIGSYS create core image non-existent system call invoked 13 SIGPIPE terminate process write on a pipe with no reader 14 SIGALRM terminate process real-time timer expired 15 SIGTERM terminate process software termination signal 16 SIGURG discard signal urgent condition present on socket 17 SIGSTOP stop process stop (cannot be caught or ignored) 18 SIGTSTP stop process stop signal generated from keyboard 19 SIGCONT discard signal continue after stop 20 SIGCHLD discard signal child status has changed 21 SIGTTIN stop process background read attempted from con- trol terminal 22 SIGTTOU stop process background write attempted to con- trol terminal 23 SIGIO discard signal I/O is possible on a descriptor (see fcntl(2)) 24 SIGXCPU terminate process cpu time limit exceeded (see setrlimit(2)) 25 SIGXFSZ terminate process file size limit exceeded (see setrlimit(2)) 26 SIGVTALRM terminate process virtual time alarm (see setitimer(2)) 27 SIGPROF terminate process profiling timer alarm (see setitimer(2)) 28 SIGWINCH discard signal Window size change 29 SIGINFO discard signal status request from keyboard 30 SIGUSR1 terminate process User defined signal 1 31 SIGUSR2 terminate process User defined signal 2 ... SIGNAL 的用途 程序被终止时，是可以根据外部传来的信号判断出终止的原因，从而在业务上进行合理的善后工作。结束程序时，默认会发送 SIGTERM 信号，而 killall 时，通过手动指定相应的信号，可以让程序合理的响应。" />
<link rel="canonical" href="http://localhost:4000/2020/05/09/killall-%E4%B8%AD%E7%9A%84-signal.html" />
<meta property="og:url" content="http://localhost:4000/2020/05/09/killall-%E4%B8%AD%E7%9A%84-signal.html" />
<meta property="og:site_name" content="牛さんの部落格" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-05-09T21:05:00+08:00" />
<script type="application/ld+json">
{"url":"http://localhost:4000/2020/05/09/killall-%E4%B8%AD%E7%9A%84-signal.html","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2020/05/09/killall-%E4%B8%AD%E7%9A%84-signal.html"},"description":"killall 中的 signal Flutter 开发时，会遇到另的任务挂起导致新的 Dart 服务无法启动的问题，提示如下： Waiting for another flutter command to release the startup lock... killall 命令 此时可以通过以下命令，将所有当前运行的 Dart 服务先结束掉： $ killall -9 dart SIGNAL 参数 这里的 -9 指定的是 killall -SIGNAL 中的 SIGNAL 参数，可用的 SIGNAL 参数可通过 killall -l 列出： $ killall -l HUP INT QUIT ILL TRAP ABRT EMT FPE KILL BUS SEGV SYS PIPE ALRM TERM URG STOP TSTP CONT CHLD TTIN TTOU IO XCPU XFSZ VTALRM PROF WINCH INFO USR1 USR2 可以看到这里列出的是各种信号的名称，每个名称根据其顺序对应了一个数字，所以指定 -SIGNAL 参数时，除了使用数字，也可以直接使用这里列出的名称。 名称和数字的对应关系在这里不直观，可通过 man signal 来查看： $ man signal ... No Name Default Action Description 1 SIGHUP terminate process terminal line hangup 2 SIGINT terminate process interrupt program 3 SIGQUIT create core image quit program 4 SIGILL create core image illegal instruction 5 SIGTRAP create core image trace trap 6 SIGABRT create core image abort program (formerly SIGIOT) 7 SIGEMT create core image emulate instruction executed 8 SIGFPE create core image floating-point exception 9 SIGKILL terminate process kill program 10 SIGBUS create core image bus error 11 SIGSEGV create core image segmentation violation 12 SIGSYS create core image non-existent system call invoked 13 SIGPIPE terminate process write on a pipe with no reader 14 SIGALRM terminate process real-time timer expired 15 SIGTERM terminate process software termination signal 16 SIGURG discard signal urgent condition present on socket 17 SIGSTOP stop process stop (cannot be caught or ignored) 18 SIGTSTP stop process stop signal generated from keyboard 19 SIGCONT discard signal continue after stop 20 SIGCHLD discard signal child status has changed 21 SIGTTIN stop process background read attempted from con- trol terminal 22 SIGTTOU stop process background write attempted to con- trol terminal 23 SIGIO discard signal I/O is possible on a descriptor (see fcntl(2)) 24 SIGXCPU terminate process cpu time limit exceeded (see setrlimit(2)) 25 SIGXFSZ terminate process file size limit exceeded (see setrlimit(2)) 26 SIGVTALRM terminate process virtual time alarm (see setitimer(2)) 27 SIGPROF terminate process profiling timer alarm (see setitimer(2)) 28 SIGWINCH discard signal Window size change 29 SIGINFO discard signal status request from keyboard 30 SIGUSR1 terminate process User defined signal 1 31 SIGUSR2 terminate process User defined signal 2 ... SIGNAL 的用途 程序被终止时，是可以根据外部传来的信号判断出终止的原因，从而在业务上进行合理的善后工作。结束程序时，默认会发送 SIGTERM 信号，而 killall 时，通过手动指定相应的信号，可以让程序合理的响应。","@type":"BlogPosting","headline":"killall 中的 signal","dateModified":"2020-05-09T21:05:00+08:00","datePublished":"2020-05-09T21:05:00+08:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="牛さんの部落格" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">牛さんの部落格</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">killall 中的 signal</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2020-05-09T21:05:00+08:00" itemprop="datePublished">May 9, 2020
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h1 id="killall-中的-signal">killall 中的 signal</h1>

<p>Flutter 开发时，会遇到另的任务挂起导致新的 Dart 服务无法启动的问题，提示如下：</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Waiting <span class="k">for </span>another flutter <span class="nb">command </span>to release the startup lock...
</code></pre></div></div>

<h2 id="killall-命令">killall 命令</h2>

<p>此时可以通过以下命令，将所有当前运行的 Dart 服务先结束掉：</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>killall <span class="nt">-9</span> dart
</code></pre></div></div>

<h2 id="signal-参数">SIGNAL 参数</h2>

<p>这里的 <code class="language-plaintext highlighter-rouge">-9</code> 指定的是 <code class="language-plaintext highlighter-rouge">killall -SIGNAL</code> 中的 <code class="language-plaintext highlighter-rouge">SIGNAL</code> 参数，可用的 SIGNAL 参数可通过 <code class="language-plaintext highlighter-rouge">killall -l</code> 列出：</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>killall <span class="nt">-l</span>
HUP INT QUIT ILL TRAP ABRT EMT FPE KILL BUS SEGV SYS PIPE ALRM TERM URG STOP
TSTP CONT CHLD TTIN TTOU IO XCPU XFSZ VTALRM PROF WINCH INFO USR1 USR2
</code></pre></div></div>

<p>可以看到这里列出的是各种信号的名称，每个名称根据其顺序对应了一个数字，所以指定 <code class="language-plaintext highlighter-rouge">-SIGNAL</code> 参数时，除了使用数字，也可以直接使用这里列出的名称。</p>

<p>名称和数字的对应关系在这里不直观，可通过 <code class="language-plaintext highlighter-rouge">man signal</code> 来查看：</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>man signal
...
     No    Name         Default Action       Description
     1     SIGHUP       terminate process    terminal line hangup
     2     SIGINT       terminate process    interrupt program
     3     SIGQUIT      create core image    quit program
     4     SIGILL       create core image    illegal instruction
     5     SIGTRAP      create core image    trace <span class="nb">trap
     </span>6     SIGABRT      create core image    abort program <span class="o">(</span>formerly SIGIOT<span class="o">)</span>
     7     SIGEMT       create core image    emulate instruction executed
     8     SIGFPE       create core image    floating-point exception
     9     SIGKILL      terminate process    <span class="nb">kill </span>program
     10    SIGBUS       create core image    bus error
     11    SIGSEGV      create core image    segmentation violation
     12    SIGSYS       create core image    non-existent system call invoked
     13    SIGPIPE      terminate process    write on a pipe with no reader
     14    SIGALRM      terminate process    real-time timer expired
     15    SIGTERM      terminate process    software termination signal
     16    SIGURG       discard signal       urgent condition present on socket
     17    SIGSTOP      stop process         stop <span class="o">(</span>cannot be caught or ignored<span class="o">)</span>
     18    SIGTSTP      stop process         stop signal generated from keyboard
     19    SIGCONT      discard signal       <span class="k">continue </span>after stop
     20    SIGCHLD      discard signal       child status has changed
     21    SIGTTIN      stop process         background <span class="nb">read </span>attempted from con-
                                             trol terminal
     22    SIGTTOU      stop process         background write attempted to con-
                                             trol terminal
     23    SIGIO        discard signal       I/O is possible on a descriptor <span class="o">(</span>see
                                             fcntl<span class="o">(</span>2<span class="o">))</span>
     24    SIGXCPU      terminate process    cpu <span class="nb">time </span>limit exceeded <span class="o">(</span>see
                                             setrlimit<span class="o">(</span>2<span class="o">))</span>
     25    SIGXFSZ      terminate process    file size limit exceeded <span class="o">(</span>see
                                             setrlimit<span class="o">(</span>2<span class="o">))</span>
     26    SIGVTALRM    terminate process    virtual <span class="nb">time </span>alarm <span class="o">(</span>see
                                             setitimer<span class="o">(</span>2<span class="o">))</span>
     27    SIGPROF      terminate process    profiling timer alarm <span class="o">(</span>see
                                             setitimer<span class="o">(</span>2<span class="o">))</span>
     28    SIGWINCH     discard signal       Window size change
     29    SIGINFO      discard signal       status request from keyboard
     30    SIGUSR1      terminate process    User defined signal 1
     31    SIGUSR2      terminate process    User defined signal 2
...
</code></pre></div></div>

<h2 id="signal-的用途">SIGNAL 的用途</h2>

<p>程序被终止时，是可以根据外部传来的信号判断出终止的原因，从而在业务上进行合理的善后工作。结束程序时，默认会发送 <code class="language-plaintext highlighter-rouge">SIGTERM</code> 信号，而 <code class="language-plaintext highlighter-rouge">killall</code> 时，通过手动指定相应的信号，可以让程序合理的响应。</p>


  </div><a class="u-url" href="/2020/05/09/killall-%E4%B8%AD%E7%9A%84-signal.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">牛さんの部落格</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">牛さんの部落格</li><li><a class="u-email" href="mailto:liuwayong@gmail.com">liuwayong@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/jekyll"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">jekyll</span></a></li><li><a href="https://www.twitter.com/jekyllrb"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">jekyllrb</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>notes about the coding life</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
