<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>C/C++ 中 printf 格式化 | 牛さんの部落格</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="C/C++ 中 printf 格式化" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="C/C++ 中 printf 格式化 作为强类型静态语言，类型不仅规定了可以对数据进行的操作，还决定了应该怎样在 printf 中输出。 printf 的签名是： int printf ( const char * format, ... ); 其中 format 为可以参参数格式化的输出内容。具体格式化形式为： %[flags][width][.precision][length]specifier 以 % 开头，紧跟一些用于格式化的修饰符，其中 [flags][width][.precision][length] 这些为可选部分，称为 sub-specifier，重点是 specifier，它与数据类型便有对应关系了。 一些简单示例： // 打印整形 int age=20; printf(&quot;My age is %d&quot;,age); // 打印字符串 char[] name=&quot;poftut&quot;; printf(&quot;Name: %s&quot;,name); // 同时打印多个变量 char[] name=&quot;poftut&quot;; int age=2; char[] city = &quot;ankara&quot;; printf(&quot;Name:%s , Age:%d , City:%s&quot;,name, age, city); specifier 可选的 specifier 以及对应的数据类型见如下来自 C++ Reference 的表格： |specifier|输出描述|输出示例| |--- |--- |--- | |d or i|Signed decimal integer|392| |u|Unsigned decimal integer|7235| |o|Unsigned octal|610| |x|Unsigned hexadecimal integer|7fa| |X|Unsigned hexadecimal integer (uppercase)|7FA| |f|Decimal floating point, lowercase|392.65| |F|Decimal floating point, uppercase|392.65| |e|Scientific notation (mantissa/exponent), lowercase|3.9265e+2| |E|Scientific notation (mantissa/exponent), uppercase|3.9265E+2| |g|Use the shortest representation: %e or %f|392.65| |G|Use the shortest representation: %E or %F|392.65| |a|Hexadecimal floating point, lowercase|-0xc.90fep-2| |A|Hexadecimal floating point, uppercase|-0XC.90FEP-2| |c|Character|a| |s|String of characters|sample| |p|Pointer address|b8000000| |n|Nothing printed. The corresponding argument must be a pointer to a signed int. The number of characters written so far is stored in the pointed location.|| |%|A % followed by another % character will write a single % to the stream.|%| flag flags description - Left-justify within the given field width; Right justification is the default (see width sub-specifier). + Forces to preceed the result with a plus or minus sign (+ or -) even for positive numbers. By default, only negative numbers are preceded with a - sign. (space) If no sign is going to be written, a blank space is inserted before the value. # Used with o, x or X specifiers the value is preceeded with 0, 0x or 0X respectively for values different than zero. Used with a, A, e, E, f, F, g or G it forces the written output to contain a decimal point even if no more digits follow. By default, if no digits follow, no decimal point is written.   0 Left-pads the number with zeroes (0) instead of spaces when padding is specified (see width sub-specifier). width width description (number) Minimum number of characters to be printed. If the value to be printed is shorter than this number, the result is padded with blank spaces. The value is not truncated even if the result is larger. * The width is not specified in the format string, but as an additional integer value argument preceding the argument that has to be formatted. precision |.precision|description| |--- |--- | |.number|For integer specifiers (d, i, o, u, x, X): precision specifies the minimum number of digits to be written. If the value to be written is shorter than this number, the result is padded with leading zeros. The value is not truncated even if the result is longer. A precision of 0 means that no character is written for the value 0. For a, A, e, E, f and F specifiers: this is the number of digits to be printed after the decimal point (by default, this is 6). For g and G specifiers: This is the maximum number of significant digits to be printed. For s: this is the maximum number of characters to be printed. By default all characters are printed until the ending null character is encountered. If the period is specified without an explicit value for precision, 0 is assumed.| |.*|The precision is not specified in the format string, but as an additional integer value argument preceding the argument that has to be formatted.| length length 长度 sub-specifier用来补充修饰数据类型的长度。部分数据类型会有长度的变种，便可用此 sub-specifier 来标识。它与 spcifier 的组合所表示的数据类型见下表： length int unsigned int double int char* void* int* hh signed char unsigned char         signed char* h short int unsigned short int         short int* l long int unsigned long int   wint_t wchar_t*   long int* ll long long int unsigned long long int         long long int* j intmax_t uintmax_t         intmax_t* z size_t size_t         size_t* t ptrdiff_t ptrdiff_t         ptrdiff_t* L     long double         另外一些示例 int encode(const short* buffer_l, int mp3buf_size) { printf(&quot;addr is %p ,size is %i\n&quot;, buffer_l,mp3buf_size); } 注意这里 %p，对照上面 specifier 表格可知它代表指针，这里用其他类型都不能匹配。 来自的示例： /* printf example */ #include &lt;stdio.h&gt; int main() { printf (&quot;Characters: %c %c \n&quot;, &#39;a&#39;, 65); printf (&quot;Decimals: %d %ld\n&quot;, 1977, 650000L); printf (&quot;Preceding with blanks: %10d \n&quot;, 1977); printf (&quot;Preceding with zeros: %010d \n&quot;, 1977); printf (&quot;Some different radices: %d %x %o %#x %#o \n&quot;, 100, 100, 100, 100, 100); printf (&quot;floats: %4.2f %+.0e %E \n&quot;, 3.1416, 3.1416, 3.1416); printf (&quot;Width trick: %*d \n&quot;, 5, 10); printf (&quot;%s \n&quot;, &quot;A string&quot;); return 0; } 输出： Characters: a A Decimals: 1977 650000 Preceding with blanks: 1977 Preceding with zeros: 0000001977 Some different radices: 100 64 144 0x64 0144 floats: 3.14 +3e+000 3.141600E+000 Width trick: 10 A string 相关资源 C++ Reference - printf C – Printf Tutorial with Examples" />
<meta property="og:description" content="C/C++ 中 printf 格式化 作为强类型静态语言，类型不仅规定了可以对数据进行的操作，还决定了应该怎样在 printf 中输出。 printf 的签名是： int printf ( const char * format, ... ); 其中 format 为可以参参数格式化的输出内容。具体格式化形式为： %[flags][width][.precision][length]specifier 以 % 开头，紧跟一些用于格式化的修饰符，其中 [flags][width][.precision][length] 这些为可选部分，称为 sub-specifier，重点是 specifier，它与数据类型便有对应关系了。 一些简单示例： // 打印整形 int age=20; printf(&quot;My age is %d&quot;,age); // 打印字符串 char[] name=&quot;poftut&quot;; printf(&quot;Name: %s&quot;,name); // 同时打印多个变量 char[] name=&quot;poftut&quot;; int age=2; char[] city = &quot;ankara&quot;; printf(&quot;Name:%s , Age:%d , City:%s&quot;,name, age, city); specifier 可选的 specifier 以及对应的数据类型见如下来自 C++ Reference 的表格： |specifier|输出描述|输出示例| |--- |--- |--- | |d or i|Signed decimal integer|392| |u|Unsigned decimal integer|7235| |o|Unsigned octal|610| |x|Unsigned hexadecimal integer|7fa| |X|Unsigned hexadecimal integer (uppercase)|7FA| |f|Decimal floating point, lowercase|392.65| |F|Decimal floating point, uppercase|392.65| |e|Scientific notation (mantissa/exponent), lowercase|3.9265e+2| |E|Scientific notation (mantissa/exponent), uppercase|3.9265E+2| |g|Use the shortest representation: %e or %f|392.65| |G|Use the shortest representation: %E or %F|392.65| |a|Hexadecimal floating point, lowercase|-0xc.90fep-2| |A|Hexadecimal floating point, uppercase|-0XC.90FEP-2| |c|Character|a| |s|String of characters|sample| |p|Pointer address|b8000000| |n|Nothing printed. The corresponding argument must be a pointer to a signed int. The number of characters written so far is stored in the pointed location.|| |%|A % followed by another % character will write a single % to the stream.|%| flag flags description - Left-justify within the given field width; Right justification is the default (see width sub-specifier). + Forces to preceed the result with a plus or minus sign (+ or -) even for positive numbers. By default, only negative numbers are preceded with a - sign. (space) If no sign is going to be written, a blank space is inserted before the value. # Used with o, x or X specifiers the value is preceeded with 0, 0x or 0X respectively for values different than zero. Used with a, A, e, E, f, F, g or G it forces the written output to contain a decimal point even if no more digits follow. By default, if no digits follow, no decimal point is written.   0 Left-pads the number with zeroes (0) instead of spaces when padding is specified (see width sub-specifier). width width description (number) Minimum number of characters to be printed. If the value to be printed is shorter than this number, the result is padded with blank spaces. The value is not truncated even if the result is larger. * The width is not specified in the format string, but as an additional integer value argument preceding the argument that has to be formatted. precision |.precision|description| |--- |--- | |.number|For integer specifiers (d, i, o, u, x, X): precision specifies the minimum number of digits to be written. If the value to be written is shorter than this number, the result is padded with leading zeros. The value is not truncated even if the result is longer. A precision of 0 means that no character is written for the value 0. For a, A, e, E, f and F specifiers: this is the number of digits to be printed after the decimal point (by default, this is 6). For g and G specifiers: This is the maximum number of significant digits to be printed. For s: this is the maximum number of characters to be printed. By default all characters are printed until the ending null character is encountered. If the period is specified without an explicit value for precision, 0 is assumed.| |.*|The precision is not specified in the format string, but as an additional integer value argument preceding the argument that has to be formatted.| length length 长度 sub-specifier用来补充修饰数据类型的长度。部分数据类型会有长度的变种，便可用此 sub-specifier 来标识。它与 spcifier 的组合所表示的数据类型见下表： length int unsigned int double int char* void* int* hh signed char unsigned char         signed char* h short int unsigned short int         short int* l long int unsigned long int   wint_t wchar_t*   long int* ll long long int unsigned long long int         long long int* j intmax_t uintmax_t         intmax_t* z size_t size_t         size_t* t ptrdiff_t ptrdiff_t         ptrdiff_t* L     long double         另外一些示例 int encode(const short* buffer_l, int mp3buf_size) { printf(&quot;addr is %p ,size is %i\n&quot;, buffer_l,mp3buf_size); } 注意这里 %p，对照上面 specifier 表格可知它代表指针，这里用其他类型都不能匹配。 来自的示例： /* printf example */ #include &lt;stdio.h&gt; int main() { printf (&quot;Characters: %c %c \n&quot;, &#39;a&#39;, 65); printf (&quot;Decimals: %d %ld\n&quot;, 1977, 650000L); printf (&quot;Preceding with blanks: %10d \n&quot;, 1977); printf (&quot;Preceding with zeros: %010d \n&quot;, 1977); printf (&quot;Some different radices: %d %x %o %#x %#o \n&quot;, 100, 100, 100, 100, 100); printf (&quot;floats: %4.2f %+.0e %E \n&quot;, 3.1416, 3.1416, 3.1416); printf (&quot;Width trick: %*d \n&quot;, 5, 10); printf (&quot;%s \n&quot;, &quot;A string&quot;); return 0; } 输出： Characters: a A Decimals: 1977 650000 Preceding with blanks: 1977 Preceding with zeros: 0000001977 Some different radices: 100 64 144 0x64 0144 floats: 3.14 +3e+000 3.141600E+000 Width trick: 10 A string 相关资源 C++ Reference - printf C – Printf Tutorial with Examples" />
<link rel="canonical" href="http://localhost:4000/2019/06/23/C-C++-%E4%B8%AD-printf-%E6%A0%BC%E5%BC%8F%E5%8C%96.html" />
<meta property="og:url" content="http://localhost:4000/2019/06/23/C-C++-%E4%B8%AD-printf-%E6%A0%BC%E5%BC%8F%E5%8C%96.html" />
<meta property="og:site_name" content="牛さんの部落格" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-06-23T11:06:00+08:00" />
<script type="application/ld+json">
{"url":"http://localhost:4000/2019/06/23/C-C++-%E4%B8%AD-printf-%E6%A0%BC%E5%BC%8F%E5%8C%96.html","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2019/06/23/C-C++-%E4%B8%AD-printf-%E6%A0%BC%E5%BC%8F%E5%8C%96.html"},"description":"C/C++ 中 printf 格式化 作为强类型静态语言，类型不仅规定了可以对数据进行的操作，还决定了应该怎样在 printf 中输出。 printf 的签名是： int printf ( const char * format, ... ); 其中 format 为可以参参数格式化的输出内容。具体格式化形式为： %[flags][width][.precision][length]specifier 以 % 开头，紧跟一些用于格式化的修饰符，其中 [flags][width][.precision][length] 这些为可选部分，称为 sub-specifier，重点是 specifier，它与数据类型便有对应关系了。 一些简单示例： // 打印整形 int age=20; printf(&quot;My age is %d&quot;,age); // 打印字符串 char[] name=&quot;poftut&quot;; printf(&quot;Name: %s&quot;,name); // 同时打印多个变量 char[] name=&quot;poftut&quot;; int age=2; char[] city = &quot;ankara&quot;; printf(&quot;Name:%s , Age:%d , City:%s&quot;,name, age, city); specifier 可选的 specifier 以及对应的数据类型见如下来自 C++ Reference 的表格： |specifier|输出描述|输出示例| |--- |--- |--- | |d or i|Signed decimal integer|392| |u|Unsigned decimal integer|7235| |o|Unsigned octal|610| |x|Unsigned hexadecimal integer|7fa| |X|Unsigned hexadecimal integer (uppercase)|7FA| |f|Decimal floating point, lowercase|392.65| |F|Decimal floating point, uppercase|392.65| |e|Scientific notation (mantissa/exponent), lowercase|3.9265e+2| |E|Scientific notation (mantissa/exponent), uppercase|3.9265E+2| |g|Use the shortest representation: %e or %f|392.65| |G|Use the shortest representation: %E or %F|392.65| |a|Hexadecimal floating point, lowercase|-0xc.90fep-2| |A|Hexadecimal floating point, uppercase|-0XC.90FEP-2| |c|Character|a| |s|String of characters|sample| |p|Pointer address|b8000000| |n|Nothing printed. The corresponding argument must be a pointer to a signed int. The number of characters written so far is stored in the pointed location.|| |%|A % followed by another % character will write a single % to the stream.|%| flag flags description - Left-justify within the given field width; Right justification is the default (see width sub-specifier). + Forces to preceed the result with a plus or minus sign (+ or -) even for positive numbers. By default, only negative numbers are preceded with a - sign. (space) If no sign is going to be written, a blank space is inserted before the value. # Used with o, x or X specifiers the value is preceeded with 0, 0x or 0X respectively for values different than zero. Used with a, A, e, E, f, F, g or G it forces the written output to contain a decimal point even if no more digits follow. By default, if no digits follow, no decimal point is written.   0 Left-pads the number with zeroes (0) instead of spaces when padding is specified (see width sub-specifier). width width description (number) Minimum number of characters to be printed. If the value to be printed is shorter than this number, the result is padded with blank spaces. The value is not truncated even if the result is larger. * The width is not specified in the format string, but as an additional integer value argument preceding the argument that has to be formatted. precision |.precision|description| |--- |--- | |.number|For integer specifiers (d, i, o, u, x, X): precision specifies the minimum number of digits to be written. If the value to be written is shorter than this number, the result is padded with leading zeros. The value is not truncated even if the result is longer. A precision of 0 means that no character is written for the value 0. For a, A, e, E, f and F specifiers: this is the number of digits to be printed after the decimal point (by default, this is 6). For g and G specifiers: This is the maximum number of significant digits to be printed. For s: this is the maximum number of characters to be printed. By default all characters are printed until the ending null character is encountered. If the period is specified without an explicit value for precision, 0 is assumed.| |.*|The precision is not specified in the format string, but as an additional integer value argument preceding the argument that has to be formatted.| length length 长度 sub-specifier用来补充修饰数据类型的长度。部分数据类型会有长度的变种，便可用此 sub-specifier 来标识。它与 spcifier 的组合所表示的数据类型见下表： length int unsigned int double int char* void* int* hh signed char unsigned char         signed char* h short int unsigned short int         short int* l long int unsigned long int   wint_t wchar_t*   long int* ll long long int unsigned long long int         long long int* j intmax_t uintmax_t         intmax_t* z size_t size_t         size_t* t ptrdiff_t ptrdiff_t         ptrdiff_t* L     long double         另外一些示例 int encode(const short* buffer_l, int mp3buf_size) { printf(&quot;addr is %p ,size is %i\\n&quot;, buffer_l,mp3buf_size); } 注意这里 %p，对照上面 specifier 表格可知它代表指针，这里用其他类型都不能匹配。 来自的示例： /* printf example */ #include &lt;stdio.h&gt; int main() { printf (&quot;Characters: %c %c \\n&quot;, &#39;a&#39;, 65); printf (&quot;Decimals: %d %ld\\n&quot;, 1977, 650000L); printf (&quot;Preceding with blanks: %10d \\n&quot;, 1977); printf (&quot;Preceding with zeros: %010d \\n&quot;, 1977); printf (&quot;Some different radices: %d %x %o %#x %#o \\n&quot;, 100, 100, 100, 100, 100); printf (&quot;floats: %4.2f %+.0e %E \\n&quot;, 3.1416, 3.1416, 3.1416); printf (&quot;Width trick: %*d \\n&quot;, 5, 10); printf (&quot;%s \\n&quot;, &quot;A string&quot;); return 0; } 输出： Characters: a A Decimals: 1977 650000 Preceding with blanks: 1977 Preceding with zeros: 0000001977 Some different radices: 100 64 144 0x64 0144 floats: 3.14 +3e+000 3.141600E+000 Width trick: 10 A string 相关资源 C++ Reference - printf C – Printf Tutorial with Examples","@type":"BlogPosting","headline":"C/C++ 中 printf 格式化","dateModified":"2019-06-23T11:06:00+08:00","datePublished":"2019-06-23T11:06:00+08:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="牛さんの部落格" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">牛さんの部落格</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">C/C++ 中 `printf` 格式化</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2019-06-23T11:06:00+08:00" itemprop="datePublished">Jun 23, 2019
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h1 id="cc-中-printf-格式化">C/C++ 中 <code class="language-plaintext highlighter-rouge">printf</code> 格式化</h1>

<p>作为强类型静态语言，类型不仅规定了可以对数据进行的操作，还决定了应该怎样在 <code class="language-plaintext highlighter-rouge">printf</code> 中输出。</p>

<p><code class="language-plaintext highlighter-rouge">printf</code> 的签名是：</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">printf</span> <span class="p">(</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span> <span class="n">format</span><span class="p">,</span> <span class="p">...</span> <span class="p">);</span>
</code></pre></div></div>

<p>其中 <code class="language-plaintext highlighter-rouge">format</code> 为可以参参数格式化的输出内容。具体格式化形式为：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%[flags][width][.precision][length]specifier
</code></pre></div></div>

<p>以 <code class="language-plaintext highlighter-rouge">%</code> 开头，紧跟一些用于格式化的修饰符，其中 <code class="language-plaintext highlighter-rouge">[flags][width][.precision][length]</code> 这些为可选部分，称为 <code class="language-plaintext highlighter-rouge">sub-specifier</code>，重点是 <code class="language-plaintext highlighter-rouge">specifier</code>，它与数据类型便有对应关系了。</p>

<p>一些简单示例：</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 打印整形</span>
<span class="kt">int</span> <span class="n">age</span><span class="o">=</span><span class="mi">20</span><span class="p">;</span>
<span class="n">printf</span><span class="p">(</span><span class="s">"My age is %d"</span><span class="p">,</span><span class="n">age</span><span class="p">);</span>

<span class="c1">// 打印字符串</span>
<span class="kt">char</span><span class="p">[]</span> <span class="n">name</span><span class="o">=</span><span class="s">"poftut"</span><span class="p">;</span>
<span class="n">printf</span><span class="p">(</span><span class="s">"Name: %s"</span><span class="p">,</span><span class="n">name</span><span class="p">);</span>

<span class="c1">// 同时打印多个变量</span>
<span class="kt">char</span><span class="p">[]</span> <span class="n">name</span><span class="o">=</span><span class="s">"poftut"</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">age</span><span class="o">=</span><span class="mi">2</span><span class="p">;</span>
<span class="kt">char</span><span class="p">[]</span> <span class="n">city</span> <span class="o">=</span> <span class="s">"ankara"</span><span class="p">;</span>
<span class="n">printf</span><span class="p">(</span><span class="s">"Name:%s , Age:%d , City:%s"</span><span class="p">,</span><span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">,</span> <span class="n">city</span><span class="p">);</span>
</code></pre></div></div>

<h2 id="specifier">specifier</h2>

<p>可选的 <code class="language-plaintext highlighter-rouge">specifier</code> 以及对应的数据类型见如下来自 <a href="http://www.cplusplus.com/reference/cstdio/printf/">C++ Reference</a> 的表格：</p>

<p>|specifier|输出描述|输出示例|
|--- |--- |--- |
|d or i|Signed decimal integer|392|
|u|Unsigned decimal integer|7235|
|o|Unsigned octal|610|
|x|Unsigned hexadecimal integer|7fa|
|X|Unsigned hexadecimal integer (uppercase)|7FA|
|f|Decimal floating point, lowercase|392.65|
|F|Decimal floating point, uppercase|392.65|
|e|Scientific notation (mantissa/exponent), lowercase|3.9265e+2|
|E|Scientific notation (mantissa/exponent), uppercase|3.9265E+2|
|g|Use the shortest representation: %e or %f|392.65|
|G|Use the shortest representation: %E or %F|392.65|
|a|Hexadecimal floating point, lowercase|-0xc.90fep-2|
|A|Hexadecimal floating point, uppercase|-0XC.90FEP-2|
|c|Character|a|
|s|String of characters|sample|
|p|Pointer address|b8000000|
|n|Nothing printed.
The corresponding argument must be a pointer to a signed int.
The number of characters written so far is stored in the pointed location.||
|%|A % followed by another % character will write a single % to the stream.|%|</p>

<h2 id="flag">flag</h2>

<table>
  <thead>
    <tr>
      <th>flags</th>
      <th>description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>-</td>
      <td>Left-justify within the given field width; Right justification is the default (see width sub-specifier).</td>
    </tr>
    <tr>
      <td>+</td>
      <td>Forces to preceed the result with a plus or minus sign (+ or -) even for positive numbers. By default, only negative numbers are preceded with a - sign.</td>
    </tr>
    <tr>
      <td>(space)</td>
      <td>If no sign is going to be written, a blank space is inserted before the value.</td>
    </tr>
    <tr>
      <td>#</td>
      <td>Used with o, x or X specifiers the value is preceeded with 0, 0x or 0X respectively for values different than zero.</td>
    </tr>
    <tr>
      <td>Used with a, A, e, E, f, F, g or G it forces the written output to contain a decimal point even if no more digits follow. By default, if no digits follow, no decimal point is written.</td>
      <td> </td>
    </tr>
    <tr>
      <td>0</td>
      <td>Left-pads the number with zeroes (0) instead of spaces when padding is specified (see width sub-specifier).</td>
    </tr>
  </tbody>
</table>

<h2 id="width">width</h2>

<table>
  <thead>
    <tr>
      <th>width</th>
      <th>description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>(number)</td>
      <td>Minimum number of characters to be printed. If the value to be printed is shorter than this number, the result is padded with blank spaces. The value is not truncated even if the result is larger.</td>
    </tr>
    <tr>
      <td>*</td>
      <td>The width is not specified in the format string, but as an additional integer value argument preceding the argument that has to be formatted.</td>
    </tr>
  </tbody>
</table>

<h2 id="precision">precision</h2>

<p>|.precision|description|
|--- |--- |
|.number|For integer specifiers (d, i, o, u, x, X): precision specifies the minimum number of digits to be written. If the value to be written is shorter than this number, the result is padded with leading zeros. The value is not truncated even if the result is longer. A precision of 0 means that no character is written for the value 0.
For a, A, e, E, f and F specifiers: this is the number of digits to be printed after the decimal point (by default, this is 6).
For g and G specifiers: This is the maximum number of significant digits to be printed.
For s: this is the maximum number of characters to be printed. By default all characters are printed until the ending null character is encountered.
If the period is specified without an explicit value for precision, 0 is assumed.|
|.*|The precision is not specified in the format string, but as an additional integer value argument preceding the argument that has to be formatted.|</p>

<h2 id="length">length</h2>

<p><code class="language-plaintext highlighter-rouge">length</code> 长度 <code class="language-plaintext highlighter-rouge">sub-specifier</code>用来补充修饰数据类型的长度。部分数据类型会有长度的变种，便可用此 sub-specifier 来标识。它与 <code class="language-plaintext highlighter-rouge">spcifier</code> 的组合所表示的数据类型见下表：</p>

<table>
  <thead>
    <tr>
      <th>length</th>
      <th>int</th>
      <th>unsigned int</th>
      <th>double</th>
      <th>int</th>
      <th>char*</th>
      <th>void*</th>
      <th>int*</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>hh</td>
      <td>signed char</td>
      <td>unsigned char</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td>signed char*</td>
    </tr>
    <tr>
      <td>h</td>
      <td>short int</td>
      <td>unsigned short int</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td>short int*</td>
    </tr>
    <tr>
      <td>l</td>
      <td>long int</td>
      <td>unsigned long int</td>
      <td> </td>
      <td>wint_t</td>
      <td>wchar_t*</td>
      <td> </td>
      <td>long int*</td>
    </tr>
    <tr>
      <td>ll</td>
      <td>long long int</td>
      <td>unsigned long long int</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td>long long int*</td>
    </tr>
    <tr>
      <td>j</td>
      <td>intmax_t</td>
      <td>uintmax_t</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td>intmax_t*</td>
    </tr>
    <tr>
      <td>z</td>
      <td>size_t</td>
      <td>size_t</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td>size_t*</td>
    </tr>
    <tr>
      <td>t</td>
      <td>ptrdiff_t</td>
      <td>ptrdiff_t</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td>ptrdiff_t*</td>
    </tr>
    <tr>
      <td>L</td>
      <td> </td>
      <td> </td>
      <td>long double</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h2 id="另外一些示例">另外一些示例</h2>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">encode</span><span class="p">(</span><span class="k">const</span> <span class="kt">short</span><span class="o">*</span> <span class="n">buffer_l</span><span class="p">,</span> <span class="kt">int</span> <span class="n">mp3buf_size</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">"addr is %p ,size is %i</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">buffer_l</span><span class="p">,</span><span class="n">mp3buf_size</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>注意这里 <code class="language-plaintext highlighter-rouge">%p</code>，对照上面 <code class="language-plaintext highlighter-rouge">specifier</code> 表格可知它代表指针，这里用其他类型都不能匹配。</p>

<p>来自的示例：</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/* printf example */</span>
<span class="cp">#include &lt;stdio.h&gt;
</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
   <span class="n">printf</span> <span class="p">(</span><span class="s">"Characters: %c %c </span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="sc">'a'</span><span class="p">,</span> <span class="mi">65</span><span class="p">);</span>
   <span class="n">printf</span> <span class="p">(</span><span class="s">"Decimals: %d %ld</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="mi">1977</span><span class="p">,</span> <span class="mi">650000L</span><span class="p">);</span>
   <span class="n">printf</span> <span class="p">(</span><span class="s">"Preceding with blanks: %10d </span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="mi">1977</span><span class="p">);</span>
   <span class="n">printf</span> <span class="p">(</span><span class="s">"Preceding with zeros: %010d </span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="mi">1977</span><span class="p">);</span>
   <span class="n">printf</span> <span class="p">(</span><span class="s">"Some different radices: %d %x %o %#x %#o </span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
   <span class="n">printf</span> <span class="p">(</span><span class="s">"floats: %4.2f %+.0e %E </span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="mf">3.1416</span><span class="p">,</span> <span class="mf">3.1416</span><span class="p">,</span> <span class="mf">3.1416</span><span class="p">);</span>
   <span class="n">printf</span> <span class="p">(</span><span class="s">"Width trick: %*d </span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
   <span class="n">printf</span> <span class="p">(</span><span class="s">"%s </span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="s">"A string"</span><span class="p">);</span>
   <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>输出：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Characters: a A
Decimals: 1977 650000
Preceding with blanks:       1977
Preceding with zeros: 0000001977
Some different radices: 100 64 144 0x64 0144
floats: 3.14 +3e+000 3.141600E+000
Width trick:    10
A string
</code></pre></div></div>

<h2 id="相关资源">相关资源</h2>

<ul>
  <li><a href="http://www.cplusplus.com/reference/cstdio/printf/">C++ Reference - printf</a></li>
  <li><a href="https://www.poftut.com/c-printf-tutorial-examples/">C – Printf Tutorial with Examples</a></li>
</ul>


  </div><a class="u-url" href="/2019/06/23/C-C++-%E4%B8%AD-printf-%E6%A0%BC%E5%BC%8F%E5%8C%96.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">牛さんの部落格</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">牛さんの部落格</li><li><a class="u-email" href="mailto:liuwayong@gmail.com">liuwayong@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/jekyll"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">jekyll</span></a></li><li><a href="https://www.twitter.com/jekyllrb"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">jekyllrb</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>notes about the coding life</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
