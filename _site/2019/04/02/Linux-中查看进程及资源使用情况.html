<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Linux 中查看进程及资源使用情况 | 牛さんの部落格</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="Linux 中查看进程及资源使用情况" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Linux 中查看进程及资源使用情况 top 自带的 top 命令类似于平时我们使用的任务管理器，能够列出当前系统中的进程及资源的使用情况。 $ man top top - display Linux tasks 使用起来很简单，不加任何参数的情况下已经很实用了。其输出大致是下面这个样子： top命令的输出界面 按 q 可退出该界面。 Tips: top 的输出每 3 秒刷新一次，如果想将画面定格，Mac 下可使用 control + s 来停止刷新，control + q 恢复刷新。当然，还可以通过在当前界面按 d 来设置刷新频率，如下图。 ![按 d&lt;/kdb&gt; 设置刷新频率](https://user-images.githubusercontent.com/3783096/55340375-22334d00-54d7-11e9-8f4f-b96d3d727c54.png) _按 d 设置刷新频率_ 下面来细看各部分的内容的含义。 top 关于机器运行的统计信息。从👈🏻至👉🏻依次是： 22:23:10 系统当前时间。 up 80 days, 11:44 系统已经运行了80多天了。 1 user 当前登录的用户数。1 个，也就是我自己。 load average: 1.31, 1.33, 1.29 系统平均负荷（Load），三个值，分别表示过去 1 分钟，5 分钟和 15 分钟的平均负荷。 Tasks 进程统计信息，分别是： 66 total 总计 66 个进程。 1 running 其中 1 个正在运行。 65 sleeping 65 个处于休眠。 0 stopped 0 个停止。 0 zombie 以及 0 个僵尸进程。 这里，其他都好理解，什么又是僵尸进程？简单理解它是这么种进程，任务已经完成但没有退出，仍然显示在进程列表中。常见的情形是子进程，子进程中任务完成后，主进程还可能保持与其进行通信等。继续了解可阅读 What is Zombie Process in Linux?。 CPU 这一行是 CPU 使用情况的统计。分成了 8 个部分，他们相加后当然应该是 100% 啦。 100.0 us ：（user） 用户消耗的 CPU 百分比。 0.0 sy ：（system） 系统消耗的 CPU。 0.0 ni ： nice 进程消耗的 CPU。 0.0 id ：（idle） 空闲的 CPU。 0.0 wa ：（waiting） 等待处理 I/O 操作的 CPU 资源。 0.0 hi ：（Hardware IRQ）处理硬件交互的 CPU 资源。 0.0 si ：（Software Interrupts）处理软件交互的 CPU 资源。 0.0 st ：（Steal Time）如果当前处于虚拟系统（vm）中，此项表示由管理程序从此系统偷走拿去处理其他任务的 CPU 资源。 其他好说，什么是 nice 进程。简单理解，进程的 nice 值与 priority 都是标识进程优先级的，前者是用户层面的优先级，后者是 Linux Kernel 使用的值。继续了解可移步 Process ‘niceness’ vs. ‘priority’。 ### Mem &amp; Swap 这两行表示物理内存（RAM）及 swap 空间的使用情况。拿内存这一行来说，依次表示： 606704 total 总内存 89464 free 空闲的部分 128300 used 使用的部分 388940 buff/cache buff 或缓存的部分 关于内存这部分，可阅读此文章 Linux memory management 进一步了解详情。 关于 swap 的理解可阅读 All about Linux swap space。 进程列表 紧接着列出的是各进程，默认以 CPU 使用量排序。 PID： 进程的 id，通过它来操作指定进程。 USER： 进程的所有者。 PR： 进程的优先级。 NI： 进程的 NICE 值，默认 0。 VIRT： 进程使用的虚拟内存。 RES： 进程使用的物理内存。 SHR： 进程使用的共享内存。 S： status，进程的状态: S=睡眠中/sleep R=支行中/running Z=僵尸进程/zombie (S)。 %CPU： 进程消耗的 CPU 百分比。 %MEM： 进程使用的 RAM 百分比。 TIME+： 进程运行时长。 COMMAND： 进程名。 以上。 大致了解后便不会感到眼花缭乱了。对于各指标含义了解后，可方便我们在服务端排查问题，分析程序运行是否可控和正常。比如你的 Node.js 服务。 一些 top 命令 除了展现信息，在 top 的输出界面，还有很多命令可用，比如上面提到的 d 设置刷新时间。 最常用的，发现某个进程快把机器爆掉了，按 k 然后输入其 PID 将该进程结束掉。 o 调整各列的顺序/order。 u 展示某个用户的进程。再次进入设置时设置成空则回到展示全部进程。 z 高亮运行中的进程。 c 展示进程的绝对路径。 htop 除了自带的 top 命令，还可安装另外一个加强版 htop，其界面更加美观，呈现的东西大同小异，但功能交互上更加方便强大。 $ htop 界面上友好的菜单已经无须多说便能上手。 其他相关命令 ps: 列出当前活动的进程信息。 iostat：查看 CPU 统计信息及网络或磁盘的 I/O 信息。 vmstat：查看虚机内存的使用情况。 mpstat：处理器相关的统计信息。 mpstat：处理器相关的统计信息。 sar：系统活动信息（system activity report，这全称是我猜测的）。 perf：性能分析工具。 相关资料 Understanding the Top command on Linux 12 TOP Command Examples in Linux What is Zombie Process in Linux? Process ‘niceness’ vs. ‘priority’ All about Linux swap space Linux memory management How to freeze the list of processes in htop? 14 Command Line Tools to Check CPU Usage in Linux" />
<meta property="og:description" content="Linux 中查看进程及资源使用情况 top 自带的 top 命令类似于平时我们使用的任务管理器，能够列出当前系统中的进程及资源的使用情况。 $ man top top - display Linux tasks 使用起来很简单，不加任何参数的情况下已经很实用了。其输出大致是下面这个样子： top命令的输出界面 按 q 可退出该界面。 Tips: top 的输出每 3 秒刷新一次，如果想将画面定格，Mac 下可使用 control + s 来停止刷新，control + q 恢复刷新。当然，还可以通过在当前界面按 d 来设置刷新频率，如下图。 ![按 d&lt;/kdb&gt; 设置刷新频率](https://user-images.githubusercontent.com/3783096/55340375-22334d00-54d7-11e9-8f4f-b96d3d727c54.png) _按 d 设置刷新频率_ 下面来细看各部分的内容的含义。 top 关于机器运行的统计信息。从👈🏻至👉🏻依次是： 22:23:10 系统当前时间。 up 80 days, 11:44 系统已经运行了80多天了。 1 user 当前登录的用户数。1 个，也就是我自己。 load average: 1.31, 1.33, 1.29 系统平均负荷（Load），三个值，分别表示过去 1 分钟，5 分钟和 15 分钟的平均负荷。 Tasks 进程统计信息，分别是： 66 total 总计 66 个进程。 1 running 其中 1 个正在运行。 65 sleeping 65 个处于休眠。 0 stopped 0 个停止。 0 zombie 以及 0 个僵尸进程。 这里，其他都好理解，什么又是僵尸进程？简单理解它是这么种进程，任务已经完成但没有退出，仍然显示在进程列表中。常见的情形是子进程，子进程中任务完成后，主进程还可能保持与其进行通信等。继续了解可阅读 What is Zombie Process in Linux?。 CPU 这一行是 CPU 使用情况的统计。分成了 8 个部分，他们相加后当然应该是 100% 啦。 100.0 us ：（user） 用户消耗的 CPU 百分比。 0.0 sy ：（system） 系统消耗的 CPU。 0.0 ni ： nice 进程消耗的 CPU。 0.0 id ：（idle） 空闲的 CPU。 0.0 wa ：（waiting） 等待处理 I/O 操作的 CPU 资源。 0.0 hi ：（Hardware IRQ）处理硬件交互的 CPU 资源。 0.0 si ：（Software Interrupts）处理软件交互的 CPU 资源。 0.0 st ：（Steal Time）如果当前处于虚拟系统（vm）中，此项表示由管理程序从此系统偷走拿去处理其他任务的 CPU 资源。 其他好说，什么是 nice 进程。简单理解，进程的 nice 值与 priority 都是标识进程优先级的，前者是用户层面的优先级，后者是 Linux Kernel 使用的值。继续了解可移步 Process ‘niceness’ vs. ‘priority’。 ### Mem &amp; Swap 这两行表示物理内存（RAM）及 swap 空间的使用情况。拿内存这一行来说，依次表示： 606704 total 总内存 89464 free 空闲的部分 128300 used 使用的部分 388940 buff/cache buff 或缓存的部分 关于内存这部分，可阅读此文章 Linux memory management 进一步了解详情。 关于 swap 的理解可阅读 All about Linux swap space。 进程列表 紧接着列出的是各进程，默认以 CPU 使用量排序。 PID： 进程的 id，通过它来操作指定进程。 USER： 进程的所有者。 PR： 进程的优先级。 NI： 进程的 NICE 值，默认 0。 VIRT： 进程使用的虚拟内存。 RES： 进程使用的物理内存。 SHR： 进程使用的共享内存。 S： status，进程的状态: S=睡眠中/sleep R=支行中/running Z=僵尸进程/zombie (S)。 %CPU： 进程消耗的 CPU 百分比。 %MEM： 进程使用的 RAM 百分比。 TIME+： 进程运行时长。 COMMAND： 进程名。 以上。 大致了解后便不会感到眼花缭乱了。对于各指标含义了解后，可方便我们在服务端排查问题，分析程序运行是否可控和正常。比如你的 Node.js 服务。 一些 top 命令 除了展现信息，在 top 的输出界面，还有很多命令可用，比如上面提到的 d 设置刷新时间。 最常用的，发现某个进程快把机器爆掉了，按 k 然后输入其 PID 将该进程结束掉。 o 调整各列的顺序/order。 u 展示某个用户的进程。再次进入设置时设置成空则回到展示全部进程。 z 高亮运行中的进程。 c 展示进程的绝对路径。 htop 除了自带的 top 命令，还可安装另外一个加强版 htop，其界面更加美观，呈现的东西大同小异，但功能交互上更加方便强大。 $ htop 界面上友好的菜单已经无须多说便能上手。 其他相关命令 ps: 列出当前活动的进程信息。 iostat：查看 CPU 统计信息及网络或磁盘的 I/O 信息。 vmstat：查看虚机内存的使用情况。 mpstat：处理器相关的统计信息。 mpstat：处理器相关的统计信息。 sar：系统活动信息（system activity report，这全称是我猜测的）。 perf：性能分析工具。 相关资料 Understanding the Top command on Linux 12 TOP Command Examples in Linux What is Zombie Process in Linux? Process ‘niceness’ vs. ‘priority’ All about Linux swap space Linux memory management How to freeze the list of processes in htop? 14 Command Line Tools to Check CPU Usage in Linux" />
<link rel="canonical" href="http://localhost:4000/2019/04/02/Linux-%E4%B8%AD%E6%9F%A5%E7%9C%8B%E8%BF%9B%E7%A8%8B%E5%8F%8A%E8%B5%84%E6%BA%90%E4%BD%BF%E7%94%A8%E6%83%85%E5%86%B5.html" />
<meta property="og:url" content="http://localhost:4000/2019/04/02/Linux-%E4%B8%AD%E6%9F%A5%E7%9C%8B%E8%BF%9B%E7%A8%8B%E5%8F%8A%E8%B5%84%E6%BA%90%E4%BD%BF%E7%94%A8%E6%83%85%E5%86%B5.html" />
<meta property="og:site_name" content="牛さんの部落格" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-04-02T23:04:00+08:00" />
<script type="application/ld+json">
{"url":"http://localhost:4000/2019/04/02/Linux-%E4%B8%AD%E6%9F%A5%E7%9C%8B%E8%BF%9B%E7%A8%8B%E5%8F%8A%E8%B5%84%E6%BA%90%E4%BD%BF%E7%94%A8%E6%83%85%E5%86%B5.html","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2019/04/02/Linux-%E4%B8%AD%E6%9F%A5%E7%9C%8B%E8%BF%9B%E7%A8%8B%E5%8F%8A%E8%B5%84%E6%BA%90%E4%BD%BF%E7%94%A8%E6%83%85%E5%86%B5.html"},"description":"Linux 中查看进程及资源使用情况 top 自带的 top 命令类似于平时我们使用的任务管理器，能够列出当前系统中的进程及资源的使用情况。 $ man top top - display Linux tasks 使用起来很简单，不加任何参数的情况下已经很实用了。其输出大致是下面这个样子： top命令的输出界面 按 q 可退出该界面。 Tips: top 的输出每 3 秒刷新一次，如果想将画面定格，Mac 下可使用 control + s 来停止刷新，control + q 恢复刷新。当然，还可以通过在当前界面按 d 来设置刷新频率，如下图。 ![按 d&lt;/kdb&gt; 设置刷新频率](https://user-images.githubusercontent.com/3783096/55340375-22334d00-54d7-11e9-8f4f-b96d3d727c54.png) _按 d 设置刷新频率_ 下面来细看各部分的内容的含义。 top 关于机器运行的统计信息。从👈🏻至👉🏻依次是： 22:23:10 系统当前时间。 up 80 days, 11:44 系统已经运行了80多天了。 1 user 当前登录的用户数。1 个，也就是我自己。 load average: 1.31, 1.33, 1.29 系统平均负荷（Load），三个值，分别表示过去 1 分钟，5 分钟和 15 分钟的平均负荷。 Tasks 进程统计信息，分别是： 66 total 总计 66 个进程。 1 running 其中 1 个正在运行。 65 sleeping 65 个处于休眠。 0 stopped 0 个停止。 0 zombie 以及 0 个僵尸进程。 这里，其他都好理解，什么又是僵尸进程？简单理解它是这么种进程，任务已经完成但没有退出，仍然显示在进程列表中。常见的情形是子进程，子进程中任务完成后，主进程还可能保持与其进行通信等。继续了解可阅读 What is Zombie Process in Linux?。 CPU 这一行是 CPU 使用情况的统计。分成了 8 个部分，他们相加后当然应该是 100% 啦。 100.0 us ：（user） 用户消耗的 CPU 百分比。 0.0 sy ：（system） 系统消耗的 CPU。 0.0 ni ： nice 进程消耗的 CPU。 0.0 id ：（idle） 空闲的 CPU。 0.0 wa ：（waiting） 等待处理 I/O 操作的 CPU 资源。 0.0 hi ：（Hardware IRQ）处理硬件交互的 CPU 资源。 0.0 si ：（Software Interrupts）处理软件交互的 CPU 资源。 0.0 st ：（Steal Time）如果当前处于虚拟系统（vm）中，此项表示由管理程序从此系统偷走拿去处理其他任务的 CPU 资源。 其他好说，什么是 nice 进程。简单理解，进程的 nice 值与 priority 都是标识进程优先级的，前者是用户层面的优先级，后者是 Linux Kernel 使用的值。继续了解可移步 Process ‘niceness’ vs. ‘priority’。 ### Mem &amp; Swap 这两行表示物理内存（RAM）及 swap 空间的使用情况。拿内存这一行来说，依次表示： 606704 total 总内存 89464 free 空闲的部分 128300 used 使用的部分 388940 buff/cache buff 或缓存的部分 关于内存这部分，可阅读此文章 Linux memory management 进一步了解详情。 关于 swap 的理解可阅读 All about Linux swap space。 进程列表 紧接着列出的是各进程，默认以 CPU 使用量排序。 PID： 进程的 id，通过它来操作指定进程。 USER： 进程的所有者。 PR： 进程的优先级。 NI： 进程的 NICE 值，默认 0。 VIRT： 进程使用的虚拟内存。 RES： 进程使用的物理内存。 SHR： 进程使用的共享内存。 S： status，进程的状态: S=睡眠中/sleep R=支行中/running Z=僵尸进程/zombie (S)。 %CPU： 进程消耗的 CPU 百分比。 %MEM： 进程使用的 RAM 百分比。 TIME+： 进程运行时长。 COMMAND： 进程名。 以上。 大致了解后便不会感到眼花缭乱了。对于各指标含义了解后，可方便我们在服务端排查问题，分析程序运行是否可控和正常。比如你的 Node.js 服务。 一些 top 命令 除了展现信息，在 top 的输出界面，还有很多命令可用，比如上面提到的 d 设置刷新时间。 最常用的，发现某个进程快把机器爆掉了，按 k 然后输入其 PID 将该进程结束掉。 o 调整各列的顺序/order。 u 展示某个用户的进程。再次进入设置时设置成空则回到展示全部进程。 z 高亮运行中的进程。 c 展示进程的绝对路径。 htop 除了自带的 top 命令，还可安装另外一个加强版 htop，其界面更加美观，呈现的东西大同小异，但功能交互上更加方便强大。 $ htop 界面上友好的菜单已经无须多说便能上手。 其他相关命令 ps: 列出当前活动的进程信息。 iostat：查看 CPU 统计信息及网络或磁盘的 I/O 信息。 vmstat：查看虚机内存的使用情况。 mpstat：处理器相关的统计信息。 mpstat：处理器相关的统计信息。 sar：系统活动信息（system activity report，这全称是我猜测的）。 perf：性能分析工具。 相关资料 Understanding the Top command on Linux 12 TOP Command Examples in Linux What is Zombie Process in Linux? Process ‘niceness’ vs. ‘priority’ All about Linux swap space Linux memory management How to freeze the list of processes in htop? 14 Command Line Tools to Check CPU Usage in Linux","@type":"BlogPosting","headline":"Linux 中查看进程及资源使用情况","dateModified":"2019-04-02T23:04:00+08:00","datePublished":"2019-04-02T23:04:00+08:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="牛さんの部落格" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">牛さんの部落格</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Linux 中查看进程及资源使用情况</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2019-04-02T23:04:00+08:00" itemprop="datePublished">Apr 2, 2019
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h1 id="linux-中查看进程及资源使用情况">Linux 中查看进程及资源使用情况</h1>

<h2 id="top"><code class="language-plaintext highlighter-rouge">top</code></h2>

<p>自带的 <code class="language-plaintext highlighter-rouge">top</code> 命令类似于平时我们使用的任务管理器，能够列出当前系统中的进程及资源的使用情况。</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>man top
       top - display Linux tasks
</code></pre></div></div>

<p>使用起来很简单，不加任何参数的情况下已经很实用了。其输出大致是下面这个样子：</p>

<p><img src="https://user-images.githubusercontent.com/3783096/55340333-0e87e680-54d7-11e9-8761-8ea2bc2fabac.png" alt="`top`命令的输出界面" />
<em><code class="language-plaintext highlighter-rouge">top</code>命令的输出界面</em></p>

<p>按 <code class="language-plaintext highlighter-rouge">q</code> 可退出该界面。</p>

<p><em>Tips: <code class="language-plaintext highlighter-rouge">top</code> 的输出每 3 秒刷新一次，如果想将画面定格，Mac 下可使用 <kbd>control</kbd> + <kbd>s</kbd> 来停止刷新，<kbd>control</kbd> + <kbd>q</kbd> 恢复刷新。当然，还可以通过在当前界面按 <kbd>d</kbd> 来设置刷新频率，如下图。</em></p>

<p>![按 <kbd>d&lt;/kdb&gt; 设置刷新频率](https://user-images.githubusercontent.com/3783096/55340375-22334d00-54d7-11e9-8f4f-b96d3d727c54.png)
_按 <kbd>d</kbd> 设置刷新频率_</kbd></p>

<p>下面来细看各部分的内容的含义。</p>

<h3 id="top-1">top</h3>

<p>关于机器运行的统计信息。从👈🏻至👉🏻依次是：</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">22:23:10</code> 系统当前时间。</li>
  <li><code class="language-plaintext highlighter-rouge">up 80 days, 11:44</code> 系统已经运行了80多天了。</li>
  <li><code class="language-plaintext highlighter-rouge">1 user</code> 当前登录的用户数。1 个，也就是我自己。</li>
  <li><code class="language-plaintext highlighter-rouge">load average: 1.31, 1.33, 1.29</code> 系统平均负荷（Load），三个值，分别表示过去 1 分钟，5 分钟和 15 分钟的平均负荷。</li>
</ul>

<h3 id="tasks">Tasks</h3>

<p>进程统计信息，分别是：</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">66 total</code> 总计 66 个进程。</li>
  <li><code class="language-plaintext highlighter-rouge">1 running</code> 其中 1 个正在运行。</li>
  <li><code class="language-plaintext highlighter-rouge">65 sleeping</code> 65 个处于休眠。</li>
  <li><code class="language-plaintext highlighter-rouge">0 stopped</code> 0 个停止。</li>
  <li><code class="language-plaintext highlighter-rouge">0 zombie</code> 以及 0 个<strong>僵尸进程</strong>。</li>
</ul>

<p>这里，其他都好理解，什么又是僵尸进程？简单理解它是这么种进程，任务已经完成但没有退出，仍然显示在进程列表中。常见的情形是子进程，子进程中任务完成后，主进程还可能保持与其进行通信等。继续了解可阅读 <a href="https://www.tutorialspoint.com/what-is-zombie-process-in-linux">What is Zombie Process in Linux?</a>。</p>

<h3 id="cpu">CPU</h3>

<p>这一行是 CPU 使用情况的统计。分成了 8 个部分，他们相加后当然应该是 100% 啦。</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">100.0 us</code> ：（user） 用户消耗的 CPU 百分比。</li>
  <li><code class="language-plaintext highlighter-rouge">0.0 sy</code> ：（system） 系统消耗的 CPU。</li>
  <li><code class="language-plaintext highlighter-rouge">0.0 ni</code> ： <strong>nice 进程</strong>消耗的 CPU。</li>
  <li><code class="language-plaintext highlighter-rouge">0.0 id</code> ：（idle） 空闲的 CPU。</li>
  <li><code class="language-plaintext highlighter-rouge">0.0 wa</code> ：（waiting） 等待处理 I/O 操作的 CPU 资源。</li>
  <li><code class="language-plaintext highlighter-rouge">0.0 hi</code> ：（Hardware IRQ）处理硬件交互的 CPU 资源。</li>
  <li><code class="language-plaintext highlighter-rouge">0.0 si</code> ：（Software Interrupts）处理软件交互的 CPU 资源。</li>
  <li><code class="language-plaintext highlighter-rouge">0.0 st</code> ：（Steal Time）如果当前处于虚拟系统（vm）中，此项表示由管理程序从此系统偷走拿去处理其他任务的 CPU 资源。</li>
</ul>

<p>其他好说，什么是 nice 进程。简单理解，进程的 nice 值与 priority 都是标识进程优先级的，前者是用户层面的优先级，后者是 Linux Kernel 使用的值。继续了解可移步 <a href="https://askubuntu.com/questions/656771/process-niceness-vs-priority">Process ‘niceness’ vs. ‘priority’</a>。</p>

<p>### Mem &amp; Swap</p>

<p>这两行表示物理内存（RAM）及 swap 空间的使用情况。拿内存这一行来说，依次表示：</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">606704 total</code> 总内存</li>
  <li><code class="language-plaintext highlighter-rouge">89464 free</code> 空闲的部分</li>
  <li><code class="language-plaintext highlighter-rouge">128300 used</code> 使用的部分</li>
  <li><code class="language-plaintext highlighter-rouge">388940 buff/cache</code> buff 或缓存的部分</li>
</ul>

<p>关于内存这部分，可阅读此文章 <a href="http://linuxaria.com/howto/linux-memory-management">Linux memory management</a> 进一步了解详情。 
关于 swap 的理解可阅读 <a href="https://www.linux.com/news/all-about-linux-swap-space">All about Linux swap space</a>。</p>

<h3 id="进程列表">进程列表</h3>

<p>紧接着列出的是各进程，默认以 CPU 使用量排序。</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">PID</code>： 进程的 id，通过它来操作指定进程。</li>
  <li><code class="language-plaintext highlighter-rouge">USER</code>： 进程的所有者。</li>
  <li><code class="language-plaintext highlighter-rouge">PR</code>： 进程的优先级。</li>
  <li><code class="language-plaintext highlighter-rouge">NI</code>： 进程的 <code class="language-plaintext highlighter-rouge">NICE</code> 值，默认 0。</li>
  <li><code class="language-plaintext highlighter-rouge">VIRT</code>： 进程使用的虚拟内存。</li>
  <li><code class="language-plaintext highlighter-rouge">RES</code>： 进程使用的物理内存。</li>
  <li><code class="language-plaintext highlighter-rouge">SHR</code>： 进程使用的共享内存。</li>
  <li><code class="language-plaintext highlighter-rouge">S</code>： status，进程的状态: S=睡眠中/sleep    R=支行中/running    Z=僵尸进程/zombie (S)。</li>
  <li><code class="language-plaintext highlighter-rouge">%CPU</code>： 进程消耗的 CPU 百分比。</li>
  <li><code class="language-plaintext highlighter-rouge">%MEM</code>： 进程使用的 RAM 百分比。</li>
  <li><code class="language-plaintext highlighter-rouge">TIME+</code>： 进程运行时长。</li>
  <li><code class="language-plaintext highlighter-rouge">COMMAND</code>： 进程名。</li>
</ul>

<p>以上。</p>

<p>大致了解后便不会感到眼花缭乱了。对于各指标含义了解后，可方便我们在服务端排查问题，分析程序运行是否可控和正常。比如你的 Node.js 服务。</p>

<h3 id="一些-top-命令">一些 top 命令</h3>

<p>除了展现信息，在 top 的输出界面，还有很多命令可用，比如上面提到的 <kbd>d</kbd> 设置刷新时间。</p>

<ul>
  <li>最常用的，发现某个进程快把机器爆掉了，按 <kbd>k</kbd> 然后输入其 PID 将该进程结束掉。</li>
  <li><kbd>o</kbd> 调整各列的顺序/order。</li>
  <li><kbd>u</kbd> 展示某个用户的进程。再次进入设置时设置成空则回到展示全部进程。</li>
  <li><kbd>z</kbd> 高亮运行中的进程。</li>
  <li><kbd>c</kbd> 展示进程的绝对路径。</li>
</ul>

<h2 id="htop"><code class="language-plaintext highlighter-rouge">htop</code></h2>

<p>除了自带的 <code class="language-plaintext highlighter-rouge">top</code> 命令，还可安装另外一个加强版 <code class="language-plaintext highlighter-rouge">htop</code>，其界面更加美观，呈现的东西大同小异，但功能交互上更加方便强大。</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>htop
</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/3783096/55340408-32e3c300-54d7-11e9-9b11-911b224444a0.png" alt="htop 的界面界面" /></p>

<p>界面上友好的菜单已经无须多说便能上手。</p>

<h2 id="其他相关命令">其他相关命令</h2>

<ul>
  <li><code class="language-plaintext highlighter-rouge">ps</code>: 列出当前活动的进程信息。</li>
  <li><code class="language-plaintext highlighter-rouge">iostat</code>：查看 CPU 统计信息及网络或磁盘的 I/O 信息。</li>
  <li><code class="language-plaintext highlighter-rouge">vmstat</code>：查看虚机内存的使用情况。</li>
  <li><code class="language-plaintext highlighter-rouge">mpstat</code>：处理器相关的统计信息。</li>
  <li><code class="language-plaintext highlighter-rouge">mpstat</code>：处理器相关的统计信息。</li>
  <li><code class="language-plaintext highlighter-rouge">sar</code>：系统活动信息（system activity report，这全称是我猜测的）。</li>
  <li><code class="language-plaintext highlighter-rouge">perf</code>：性能分析工具。</li>
</ul>

<h3 id="相关资料">相关资料</h3>

<ul>
  <li><a href="https://linuxaria.com/howto/understanding-the-top-command-on-linux">Understanding the Top command on Linux</a></li>
  <li><a href="https://www.tecmint.com/12-top-command-examples-in-linux/">12 TOP Command Examples in Linux</a></li>
  <li><a href="https://www.tutorialspoint.com/what-is-zombie-process-in-linux">What is Zombie Process in Linux?</a></li>
  <li><a href="https://askubuntu.com/questions/656771/process-niceness-vs-priority">Process ‘niceness’ vs. ‘priority’</a></li>
  <li><a href="https://www.linux.com/news/all-about-linux-swap-space">All about Linux swap space</a></li>
  <li><a href="http://linuxaria.com/howto/linux-memory-management">Linux memory management</a></li>
  <li><a href="https://superuser.com/a/1322922/256209">How to freeze the list of processes in htop?</a></li>
  <li><a href="https://linoxide.com/monitoring-2/10-tools-monitor-cpu-performance-usage-linux-command-line/">14 Command Line Tools to Check CPU Usage in Linux</a></li>
</ul>


  </div><a class="u-url" href="/2019/04/02/Linux-%E4%B8%AD%E6%9F%A5%E7%9C%8B%E8%BF%9B%E7%A8%8B%E5%8F%8A%E8%B5%84%E6%BA%90%E4%BD%BF%E7%94%A8%E6%83%85%E5%86%B5.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">牛さんの部落格</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">牛さんの部落格</li><li><a class="u-email" href="mailto:liuwayong@gmail.com">liuwayong@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/jekyll"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">jekyll</span></a></li><li><a href="https://www.twitter.com/jekyllrb"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">jekyllrb</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>notes about the coding life</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
